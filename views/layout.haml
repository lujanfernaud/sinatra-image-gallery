!!! 5
%html
  /[if lt IE 7]
    <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="">
  /[if IE 7]
    <html class="no-js lt-ie9 lt-ie8" lang="">
  /[if IE 8]
    <html class="no-js lt-ie9" lang="">
  /[if gt IE 8]
    <html class="no-js" lang="">
  %head
    %meta(charset="utf-8")
    %meta(http-equiv="X-UA-Compatible" content="IE=edge,chrome=1")
    %title Simple Image Gallery
    %meta(name="description" content="Simple Image Gallery")
    %meta(name="viewport" content="width=device-width, initial-scale=1")

    / Bootstrap
    %link(rel="stylesheet" href="/css/bootstrap.min.css")
    / Blueimp's Image Gallery
    %link(rel="stylesheet" href="/css/blueimp-gallery.css")
    %link(rel="stylesheet" href="/css/blueimp-gallery-indicator.css")
    / Boilerplate
    %link(rel="stylesheet" href="/css/main.css")
    %script(src="/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js")

  %body
    /[if lt IE 8]
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      
    .container

      .header-margin.text-center
        %h1 
          %a(href="/" title="Home")
            Simple Image Gallery

      = yield

    / Modal for Share
    %div(class="modal fade" id="modal-share" tabindex="-1" role="dialog" aria-labelledby="myModalShareLabel")
      %div(class="modal-dialog" role="document")
        .modal-content
          %form(id="form-share")
            .modal-header
              %button(type="button" class="close" data-dismiss="modal" aria-label="close")
                %span(aria-hidden="true") &times;
              %h4(class="modal-title" id="myModalShareLabel") Share Image
            .modal-body
              .form-group.rm-margin-bottom
                %label(for="form-input-text" class="sr-only") Image URL
                %input(type="text" name="image-url" class="form-control" id="form-input-text" onClick="this.setSelectionRange(0, this.value.length)")
            .modal-footer
              %button(type="button" class="btn btn-default" data-dismiss="modal") Close

    / jQuery
    %script(src="/js/vendor/jquery-1.11.2.min.js")
    :javascript
      window.jQuery || document.write('<script src="/js/vendor/jquery-1.11.2.min.js"><\/script>')
    / Bootstrap
    %script(src="/js/vendor/bootstrap.min.js")
    / Masonry
    %script(src="/js/vendor/masonry.pkgd.min.js")
    %script(src="/js/vendor/imagesloaded.pkgd.min.js")
    :javascript
      $(window).on('load', function() {
        var $grid = $('.grid').imagesLoaded(function() {
          // Init Masonry after all images have loaded.
          $grid.masonry({
            itemSelector:   '.grid-item',
            columnWidth:    '.grid-item',
            percentPosition: true,
            transitionDuration: '0.6s'
          });
        });
      });
    / Blueimp's Image Gallery
    %script(src="/js/vendor/blueimp-gallery.js")
    %script(src="/js/vendor/blueimp-helper.js")
    %script(src="/js/vendor/blueimp-gallery-indicator.js")
    %script(src="/js/vendor/jquery.blueimp-gallery.js")
    / Boilerplate
    %script(src="/js/plugins.js")
    %script(src="/js/main.js")